ci:
  collect:
    url:
      - 'http://localhost:3000/en'
      - 'http://localhost:3000/en/events'
      - 'http://localhost:3000/en/news'
      - 'http://localhost:3000/en/news/1'
      - 'http://localhost:3000/en/about'
      - 'http://localhost:3000/en/storage'
      - 'http://localhost:3000/en/storage/shopping-cart'
    startServerCommand: 'bun run start'
  upload:
    target: 'lhci'
    serverBaseUrl: 'https://lhci.hackerspace-ntnu.no' # build token is set by the GH Action
  assert:
    assertMatrix:
      - matchingUrlPattern: '.*'
        preset: 'lighthouse:recommended'
      - matchingUrlPattern: 'http://.*/storage.*'
        preset: 'lighthouse:recommended'
        assertions:
          render-blocking-resources: 'off'
          largest-contentful-paint: 'off'
          heading-order: 'off'
          color-contrast: 'off'
          bf-cache: 'off'
          unused-javascript: 'off'
          cumulative-layout-shift: 'off'
          max-potential-fid: 'off'
